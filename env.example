# ==========================================
# accounts.mojo Environment Configuration
# ==========================================
# Copy this file to .env and fill in your values

# Database
POSTGRES_USER=accounts
POSTGRES_PASSWORD=change_me_in_production
POSTGRES_DB=accounts_db
DATABASE_URL=postgresql://accounts:change_me_in_production@db:5432/accounts_db

# Clerk Authentication
# Get from https://dashboard.clerk.com
CLERK_SECRET_KEY=sk_test_xxxx
CLERK_PUBLISHABLE_KEY=pk_test_xxxx
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxx

# Clerk Webhooks
# Get from Clerk Dashboard -> Webhooks -> Your endpoint -> Signing Secret
CLERK_WEBHOOK_SECRET=whsec_xxxx

# Frontend
FRONTEND_URL=https://accounts.mojo-institut.de
NEXT_PUBLIC_API_URL=https://accounts.mojo-institut.de

# External Services - Payments
PAYMENTS_API_URL=https://payments.mojo-institut.de/api/v1
PAYMENTS_API_KEY=

# External Services - CRM (kontakte.mojo - SSOT für Kundendaten)
# kontakte.mojo ist die Single Source of Truth für alle Kundendaten
# accounts.mojo fungiert als Cache und schreibt Änderungen zurück
#
# API Endpoints die verwendet werden:
#   GET/PATCH /api/v1/me/profile?clerkUserId=xxx
#   GET/PATCH /api/v1/me/consents?clerkUserId=xxx
#   POST /api/internal/customers (bei Clerk user.created)
#   POST /api/internal/leads (für Marketing-Leads)
#   GET /api/internal/customers/lookup
#
CRM_API_URL=https://kontakte.mojo-institut.de/api
CRM_API_KEY=  # WICHTIG: Muss mit SERVICE_API_KEY in kontakte.mojo übereinstimmen!
CRM_TENANT_SLUG=mojo  # Default Tenant in kontakte.mojo

# Beispiel für Dev-Umgebung (NICHT für Production!):
# CRM_API_KEY=dev-test-key-only-for-local-development

# Mock Mode (set to true for local dev without external services)
MOCK_EXTERNAL_SERVICES=true

# Webhook Secrets (generate with: openssl rand -hex 32)
WEBHOOK_SECRET_PAYMENTS=dev_webhook_secret_payments
WEBHOOK_SECRET_CRM=dev_webhook_secret_crm

# Internal API (Service-to-Service communication)
# Generate with: openssl rand -hex 32
INTERNAL_API_SECRET=dev_internal_api_secret

# Email (optional - for invitation emails)
EMAIL_FROM=noreply@mojo-institut.de
SENDGRID_API_KEY=

# ==========================================
# Development Only
# ==========================================
NODE_ENV=development

